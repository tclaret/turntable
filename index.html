<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Turntable (Fixed with DISC Image)</title>
<link rel="icon" href="data:," />

<style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html,body { height:100%; }
    body {
        min-height:100vh;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        background:#333;
        user-select:none;
        color:white;
        font-family:Arial, Helvetica, sans-serif;
        padding:24px;
    }

    h1 {
        position:fixed;
        top:18px;
        left:50%;
        transform:translateX(-50%);
        font-size:20px;
        text-align:center;
        z-index:30;
    }

    #turntable-container {
        position:relative;
        width:80vw; height:80vw;
        max-width:700px; max-height:700px;
        aspect-ratio:1/1;
        background:#a08c78;
        border-radius:10px;
        display:flex;
        justify-content:center;
        align-items:center;
        overflow:hidden;
        transition:transform .3s ease;
        box-shadow: 0 8px 30px rgba(0,0,0,0.6);
    }

    .zoomed-view { transform:scale(1.18); }

    /* VINYL USING DISC IMAGE */
    #vinyl {
        position:absolute;
        inset:5%;
        width:90%;
        height:90%;
        aspect-ratio:1/1;
        border-radius:50%;
        background-image:url('img/DISC.png');
        background-size:cover;
        background-position:center;
        cursor:grab;
        transform:rotate(0deg) translateZ(0);
        will-change:transform;
    }
    #vinyl:active { cursor:grabbing; }

    #controls-wrapper {
        position:absolute;
        width:100%; height:100%;
        pointer-events:none;
    }

    button {
        pointer-events:auto;
        padding:8px 14px;
        border:none;
        border-radius:6px;
        font-weight:bold;
        color:white;
        cursor:pointer;
        box-shadow:0 4px 12px rgba(0,0,0,0.4);
    }

    #stop-button { background:#c0392b; position:absolute; top:16px; left:16px; z-index:20; }
    #zoom-button { background:#3498db; position:absolute; top:16px; left:116px; z-index:20; }

    #status {
        position:absolute;
        top:16px;
        right:16px;
        z-index:20;
        font-size:13px;
        background:rgba(0,0,0,0.35);
        padding:6px 10px;
        border-radius:8px;
        color:#fff;
        pointer-events:none;
    }

    #speed-control, #pitch-control {
        position:absolute;
        bottom:20px;
        font-size:14px;
        pointer-events:auto;
        display:flex;
        align-items:center;
        z-index:20;
    }

    #speed-control { left:16px; }
    #pitch-control { right:16px; }

    .knob-container {
        display:flex;
        background:#222;
        padding:6px;
        margin-left:10px;
        border-radius:10px;
    }
    .knob-container input { display:none; }
    .knob-container label {
        background:#555;
        padding:6px 10px;
        margin:0 4px;
        border-radius:6px;
        cursor:pointer;
        color:#eee;
        font-size:13px;
    }
    .knob-container input:checked + label {
        background:#1abc9c;
        color:#082a25;
        font-weight:bold;
    }

    input[type="range"] {
        -webkit-appearance:none;
        width:150px;
        height:10px;
        background:#ccc;
        border-radius:5px;
        margin-left:10px;
    }
    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance:none;
        width:12px; height:22px;
        background:#2c3e50;
        border-radius:3px;
        cursor:pointer;
    }

    @media (max-width:420px){
        #turntable-container { width:94vw; height:94vw; }
        .knob-container label { padding:6px; font-size:12px; }
        input[type="range"] { width:120px; }
    }
</style>
</head>
<body>
    <h1>Interactive Turntable — drag the vinyl to scratch</h1>

    <div id="turntable-container">
        <div id="vinyl"></div>

        <div id="controls-wrapper">
            <button id="stop-button">STOP</button>
            <button id="zoom-button">ZOOM</button>

            <div id="status">Loading…</div>

            <div id="speed-control">
    <span class="label">RPM</span>
    <img id="rpm-image" src="img/ChickenHead.png" style="width:120px; margin-left:10px; cursor:pointer;" />
</div>
            </div>

            <div id="pitch-control">
                <span class="label">Pitch</span>
                <input id="pitch-slider" type="range" min="-50" max="50" value="0" />
                <span id="pitch-value">0%</span>
            </div>
        </div>
    </div>

<script>
/* RPM image click mapping */
const rpmImg = document.getElementById('rpm-image');
rpmImg.addEventListener('click', (e)=>{
    const rect = rpmImg.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const pos = x / rect.width;
    if(pos < 0.33){
        document.getElementById('status').textContent = '45 RPM';
    } else if(pos < 0.66){
        document.getElementById('status').textContent = 'OFF';
    } else {
        document.getElementById('status').textContent = '33 RPM';
    }
});
</script>
</body>
</html>
